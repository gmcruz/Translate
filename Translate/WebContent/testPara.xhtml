<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	
	<head>
		<script src="js/jquery-1.11.1.min.js"></script>
		<title>Test Page</title>
		<script type="text/javascript">
		$(document).ready(function(){
			$("#testp").click(function(){				    
			    			
				$.getJSON( "http://gcruz-pc:8080/TranslateModule/resource/tests/", function( data ) {
					
					if (data.hasOwnProperty("paragraphs")) {				
						var items = [];
						$.each( data.paragraphs, function( key, valParagraphs ) {
							
							if (valParagraphs.hasOwnProperty("paragraph")) {
							
								$.each( valParagraphs.paragraph, function( key, valParagraph ) {
									
									$.each( valParagraph.sentences, function( key, valSentence ) {
										
										items.push( "<li>[" + valSentence.meaning + "]</li>" );
										
										$.each( valSentence.sentence, function( key, valWord ) {																						
											//Punctuation just show as is.
											if(valWord.punc != undefined){
												items.push( "<li>" + valWord.word + "</li>" );
											}
											//Ref word must loop to find in returned JSON
											else if(valWord.ref != undefined){
												items.push( "<li>" + valWord.ref + " is UNDEFINED AS REF</li>" );
											}
											//Regular word to process
											else if(valWord.ref == undefined){
												items.push( "<li>" + valWord.word + " </li>" );
											}											
											
											
										});
									});
								});
								
							}
						
						});
						
						 
						$( "<ul/>", {
							"class": "my-new-list", html: items.join( "" )
						}).appendTo( "body" );					
					
					}	
					
					
				});				
				
				
			});
		});
		</script>
		
	</head>
	
	<body>
		<h1>All terms</h1>			
		<div id="testp">
			Testing the para
		</div>		
	</body>

</html>

